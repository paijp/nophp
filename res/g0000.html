<FORM method=POST>
Welcome `login__:loginrecord`!
<INPUT type=submit name=":logout" value="logout">
<A href="g9999.html">index</A>
</FORM>
<FORM method=POST>
<INPUT type=text name=":reportbody" size=60>
<INPUT type=submit value="send report">
</FORM>
<TABLE border width="32%">
<TR><TH>tables.php
<TR><TD><PRE>&lt;?php

class	message0_table extends a_table {
	function	getconfig() {
		return parent::getconfig().&lt;&lt;&lt;EOO

EOO;
	}
}
new message0_table();

</PRE>
</TABLE>

<UL>
	<LI>The table &quot;message0&quot; is created with nothing.
	<LI>The class of the table name should be alphanumeric_table and new should be used immediately after the table name.
	<LI>The new object is registered to a global variable in the constructor.
</UL>

<TABLE border width="96%">
<TR><TH>g0000.html
<TH>HTML sent to the browser
<TH>Display on the browser(can be operated)
<TR><TD width="33%">&lt;FORM method=POST&gt;<br />
logged in: `:bq`login__:loginrecord`:bq`<br />
&lt;INPUT type=submit name=&quot;:logout&quot; value=&quot;logout&quot;&gt;<br />
&lt;/FORM&gt;<br />
<br />

<TD width="34%"><!--{htmlsrc--><FORM method=POST>
logged in: `login__:loginrecord`
<INPUT type=submit name=":logout" value="logout">
</FORM>

<!--}-->
<TD width="33%"><FORM method=POST>
logged in: `login__:loginrecord`
<INPUT type=submit name=":logout" value="logout">
</FORM>


</TABLE>

<UL>
	<LI>This is the page you will see when you log in.
	<LI>The file name is /^[a-z]+[0-9]+[a-z]*[.] html$/ is accepted.
</UL>


<UL>
	<LI>The &quot;`:bq`login__:loginrecord`:bq`&quot; part is actually the login user name.
	<LI>The content is displayed by writing commands in this back-quoted area.
	<LI>The FORM tag is closed once, to avoid the logout button in the first half being pressed when Enter is pressed in the text box in the second half.
</UL>


<UL>
	<LI>Also, the submitkey is automatically inserted just before the &lt;/FORM&gt;.
	<LI>This is to prevent form access from outside.
	<LI>Each time you log in, the submitkey changes automatically and randomly, and the submit will not be accepted unless it matches the latest value in the system.
</UL>

<TABLE border width="96%">
<TR><TH>g0000.html (continued)
<TH>HTML sent to the browser
<TH>Display on the browser(can be operated)
<TR><TD width="33%">&lt;FORM method=POST&gt;<br />
&lt;!--{tableid message0--&gt;<br />
Submit an article:<br />
&lt;TEXTAREA name=&quot;body&quot; cols=40 rows=10&gt;&lt;/TEXTAREA&gt;<br />
&lt;INPUT type=submit name=&quot;:curtable:h_update:popall:curpage:jump&quot; value=&quot;Submit an article&quot;&gt;<br />
&lt;!--}--&gt;<br />
&lt;/FORM&gt;<br />
<br />

<TD width="34%"><!--{htmlsrc--><FORM method=POST>
<!--{tableid message0-->
Submit an article:
<TEXTAREA name="body" cols=40 rows=10></TEXTAREA>
<INPUT type=submit name=":curtable:h_update:popall:curpage:jump" value="Submit an article">
<!--}-->
</FORM>

<!--}-->
<TD width="33%"><FORM method=POST>
<!--{tableid message0-->
Submit an article:
<TEXTAREA name="body" cols=40 rows=10></TEXTAREA>
<INPUT type=submit name=":curtable:h_update:popall:curpage:jump" value="Submit an article">
<!--}-->
</FORM>


</TABLE>

<UL>
	<LI>The &quot;&lt;!--{tableid message0--&gt;&quot; is an HTML comment and will not be displayed.
	<LI>Write the control structure in this section.
	<LI>From &quot;&lt;!--{tableid message0--&gt;&quot; to &quot;&lt;!--}--&gt;&quot; indicates that the description is for registering a new record in the message0 table.
	<LI>Placing an INPUT tag in this section will write the field corresponding to name to the database.
	<LI>Note that names beginning with a number are not output to the database. It can be used for searching or in javascript to output to other hidden fields.
</UL>

<TABLE border width="96%">
<TR><TH>g0000.html (continued)
<TH>HTML sent to the browser
<TH>Display on the browser(can be operated)
<TR><TD width="33%">&lt;!--{selectrows from message0 order by id desc --&gt;<br />
&lt;HR&gt;<br />
&lt;PRE&gt;`:bq`body__:r`:bq`&lt;/PRE&gt;<br />
&lt;!--}--&gt;<br />
<br />
&lt;HR&gt;<br />
<br />

<TD width="34%"><!--{htmlsrc--><!--{selectrows from message0 order by id desc -->
<HR>
<PRE>`body__:r`</PRE>
<!--}-->

<HR>

<!--}-->
<TD width="33%"><!--{selectrows from message0 order by id desc -->
<HR>
<PRE>`body__:r`</PRE>
<!--}-->

<HR>


</TABLE>

<UL>
	<LI>This is the part that displays what was POSTed above.
	<LI>The &quot;&lt;!--{selectrows&quot; can be used to write from, order, where, limit, and offset for SQL select statements.
	<LI>From &quot;&lt;!--{selectrows&quot; to &quot;&lt;!--}--&gt;&quot; are repeated as many times as there are records, and each record can be processed.
</UL>


<UL>
	<LI>In the previous section, the name of type=submit is &quot;:curtable:h_update:popall:curpage:jump&quot;.
	<LI>This is in common with the description of backquotes.
	<LI>You can use alphanumeric characters and &quot;_&quot;, &quot;:&quot;, &quot;. &quot; &quot; can be used for name, and &quot;. &quot;&quot; are replaced by &quot;_&quot; by php, so the following is used.
</UL>
<UL><UL>
	<LI>Separate items with &quot;__&quot;.
	<LI>Items beginning with &quot;:&quot; are commands, and those not beginning with &quot;:&quot; are strings.
	<LI>However, commands can be written consecutively without separating them with &quot;__&quot;.
</UL></UL>


<UL>
	<LI>For example, the aforementioned &quot;login__:loginrecord&quot; means the following
</UL>
<UL><UL>
	<LI>String &quot;login&quot;.
	<LI>Command &quot;:loginrecord&quot;.
</UL></UL>


<UL>
	<LI>The above &quot;:curtable:h_update:popall:curpage:jump&quot; would look like this
</UL>
<UL><UL>
	<LI>Commands &quot;:curtable&quot;, &quot;:h_update&quot;, &quot;:popall&quot;, &quot;:curpage&quot;, &quot;:jump&quot;.
</UL></UL>


<UL>
	<LI>The command &quot;:curtable&quot; returns the current table, i.e., &quot;&lt;!--{tableid message0&quot;, it returns &quot;message0&quot;.
	<LI>The command &quot;:h_update&quot; updates the specified table. In this case, since we are registering a new record, it actually inserts it and returns its record ID.
	<LI>The fields at this time include &quot;&lt;!--{tableid&quot; to &quot;&lt;!--}--&gt;&quot; range, the INPUT tag is used.
	<LI>Note that the command &quot;:h_update&quot; is only effective if written within the name of INPUT type=submit. For example, writing it in backquotes will not update the database.
	<LI>The command &quot;:popall&quot; discards the return value.
	<LI>The command &quot;:curpage&quot; returns the current page name (g0000 for index.php/g0000.html).
	<LI>The command &quot;:jump&quot; jumps to the specified page (redirect by 302). In this case, it jumps to the previous &quot;g0000&quot;, i.e., to itself.
	<LI>This is used to redirect and overwrite the history of forms with method=POST, as it is inconvenient to reload the form in the browser and it will be POSTed again.
</UL>


<UL>
	<LI>By the way, in the table definition in tables.php mentioned above, I did not register any fields.
	<LI>The framework automatically creates the fields id, mixed, created, modified, and deleted when the table is generated.
	<LI>And if you access a field that is not registered in the table, it is automatically escaped and stored in a field called MIXED.
</UL>


<UL>
	<LI>With &quot;`:bq`body__:r`:bq`&quot;, get the body field of the current record, i.e., the record that selectrows is currently processing.
</UL>


<HR>
